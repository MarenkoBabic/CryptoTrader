<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - Meine ASP.NET-Anwendung</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/jqueryui")
    @Scripts.Render("~/bundles/toastr")
    @Scripts.Render("~/bundles/bootstrap")
    <script src="~/Scripts/Custom/GetTickerRate.js"></script>
    <script src="~/Scripts/Custom/ShowBalance.js"></script>
    <script src="~/Scripts/Custom/ShowBitCoinAmount.js"></script>
    <link href="~/Content/Custom/DashBoard.css" rel="stylesheet" />

</head>

<body>
    @{
        string firstName = "";
        if (Request.Cookies["firstName"] != null)
        {
            firstName = Request.Cookies["firstName"].Value;
        }

        string lastName = "";
        if (Request.Cookies["lastName"] != null)
        {
            lastName = Request.Cookies["lastName"].Value;
        }
    }
    <div id="wrapper">
        <!-- Navigation -->
        <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
            <!-- Überschrift -->
            <div class="navbar-header">
                @Html.ActionLink(" CryptoCoinCompany", "Index", "Home", new { area = "" }, new { @class = "navbar-brand" })
            </div>

            <!--Benutzer Dropdown-->
            <ul class="nav navbar-right top-nav">
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown">
                        <span class="glyphicon glyphicon-user">@lastName</span>
                        <span class="glyphicon glyphicon-chevron-down"></span>
                        <span id="balance" class="glyphicon glyphicon-euro"></span>
                        <span id="bitCoin" class="glyphicon glyphicon-star"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li>
                            <div class="navbar-login">
                                <div class="row">
                                    <div class="col-lg-4">
                                        <p class="text-center">
                                            <span class="glyphicon glyphicon-user icon-size"></span>
                                        </p>
                                    </div>
                                    <div class="col-lg-8">
                                        <p class="text-left small">@firstName  @lastName</p>
                                        <p class="text-left small">@User.Identity.Name</p>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <div class="navbar-login navbar-login-session">
                                <div class="row">
                                    <div class="col-lg-12">
                                        <p>
                                            @Html.ActionLink("Logout", "Logout", "Login", null, new { @class = "btn btn-danger btn-block" })
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </li>
            </ul>


            <!-- Sidebar Menu Items-->
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav side-nav">
                    <!--BitCoin Kurs-->
                    <li>
                        <a>
                            <i class="glyphicon glyphicon-xbt"></i>
                            <span class="my-span">BitCoin</span>
                            <i class="glyphicon glyphicon-euro"></i>
                        </a>
                        <ul id="MoneyTransfer">
                            <li><a>1 Bitcoin =<span id="rate"></span></a></li>
                        </ul>
                    </li>
                    <!--UserVerification-->
                    <li>
                        <a>
                            <i class="glyphicon glyphicon-user"></i>
                            <span class="my-span">Verifiziren</span>
                        </a>
                        <ul id="MoneyTransfer">
                            <li>@Html.ActionLink("Verifiziren", "PersonVerification", "Register")</li>
                        </ul>
                    </li>

                    <!--MoneyTransfer-->
                    <li>
                        <a>
                            <i class="glyphicon glyphicon-euro"></i>
                            <span class="my-span">Geld Transfer</span>
                        </a>
                        <ul id="MoneyTransfer">
                            <li>@Html.ActionLink("Geld einzahlen", "PayIn", "BankTransfer")</li>
                            <li>@Html.ActionLink("Geld auszahlen", "PayOut", "BankTransfer")</li>
                        </ul>
                    </li>

                    <!--Trade-->
                    <li>
                        <a>
                            <i class="glyphicon glyphicon-euro"></i>
                            <span class="my-span">Handeln</span>
                        </a>
                        <ul id="TradeBitCoin">
                            <li>@Html.ActionLink("Bitcoin", "Index", "Trade")</li>
                        </ul>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </nav>
        <div>
        </div>
    </div><!-- /#wrapper -->

    @RenderBody()
    @RenderSection("scripts", required: false)

</body>
</html>

<script>
    toastr.options = {
    "closeButton": true,
    "debug": false,
    "positionClass": "toast-bottom-left",
    "onclick": null,
    "showDuration": "300",
    "hideDuration": "1000",
    "timeOut": "3000",
    "extendedTimeOut": "1000",
    "showEasing": "swing",
    "showMethod": "fadeIn",
    "hideMethod": "fadeOut",
    "width": "100%"
}
$(document).ready(function () {

    @if (TempData["ErrorMessage"] != null) {
        <text>toastr.error("", "@TempData["ErrorMessage"]").attr('style','width:500px');</text>
    }

    @if (TempData["ConfirmMessage"] != null) {
        <text>toastr.success("", "@TempData["ConfirmMessage"]").attr('style', 'width:100%');</text>
    }

});

</script>
